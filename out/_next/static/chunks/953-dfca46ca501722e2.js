"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[953],{5953:function(e,n,t){t.d(n,{I7:function(){return k},In:function(){return d},N$:function(){return v},RM:function(){return m},Z5:function(){return l},_A:function(){return f},cX:function(){return E},fy:function(){return p},iG:function(){return h},ni:function(){return C},t8:function(){return o},tU:function(){return b},ul:function(){return a},xt:function(){return g}});var r=t(7294),u=(0,r.createContext)({map:null}),i=(0,r.createContext)({addMarker:null,removeMarker:null}),o=function(e){var n=e.position,t=e.name,i=e.scale,o=e.bearing,c=e.elevation,l=e.height,a=e.model,f=e.texture,v=e.coordinates,d=e.visible,s=e.draggable,E=e.userInteractionEnabled,p=e.selected,k=e.growUp,h=e.map,m=e.onCreated,g=(0,r.useContext)(u),C=h||g.map,b=(0,r.useRef)(null);return(0,r.useEffect)(function(){if(C&&!b.current&&(v&&(null==v?void 0:v.length)>0||a)){var e,r={position:n||{lat:10.793113,lng:106.720739},name:t,scale:i,bearing:o,elevation:c,height:l,model:a,texture:f,coordinates:v,visible:d,draggable:s,userInteractionEnabled:E,selected:p,growUp:k};Object.keys(r).forEach(function(e){(void 0==r[e]||null==r[e])&&delete r[e]}),b.current=new map4d.Building(r),null===(e=b.current)||void 0===e||e.setMap(C),m&&m(b.current)}},[C,n,v,a]),(0,r.useEffect)(function(){if(C){var e;null===(e=b.current)||void 0===e||e.setMap(C)}return function(){var e;null===(e=b.current)||void 0===e||e.setMap(null)}},[C]),(0,r.useEffect)(function(){return function(){var e;null===(e=b.current)||void 0===e||e.setMap(null)}},[]),(0,r.useEffect)(function(){var e;null===(e=b.current)||void 0===e||e.setPosition(n)},[n]),(0,r.useEffect)(function(){var e;void 0!=t&&(null===(e=b.current)||void 0===e||e.setName(t))},[t]),(0,r.useEffect)(function(){var e;void 0!=i&&(null===(e=b.current)||void 0===e||e.setScale(i))},[i]),(0,r.useEffect)(function(){if(void 0!=o){var e;null===(e=b.current)||void 0===e||e.setBearing(o)}},[o]),(0,r.useEffect)(function(){var e;void 0!=c&&(null===(e=b.current)||void 0===e||e.setElevation(c))},[c]),(0,r.useEffect)(function(){var e;void 0!=l&&(null===(e=b.current)||void 0===e||e.setHeight(l))},[l]),(0,r.useEffect)(function(){var e;void 0!=a&&(null===(e=b.current)||void 0===e||e.setModel(a))},[a]),(0,r.useEffect)(function(){var e;void 0!=f&&(null===(e=b.current)||void 0===e||e.setTexture(f))},[f]),(0,r.useEffect)(function(){var e;void 0!=v&&(null===(e=b.current)||void 0===e||e.setCoordinates(v))},[v]),(0,r.useEffect)(function(){var e;void 0!=d&&(null===(e=b.current)||void 0===e||e.setVisible(d))},[d]),(0,r.useEffect)(function(){var e;void 0!=s&&(null===(e=b.current)||void 0===e||e.setDraggable(s))},[s]),(0,r.useEffect)(function(){var e;void 0!=E&&(null===(e=b.current)||void 0===e||e.setUserInteraction(E))},[E]),(0,r.useEffect)(function(){var e;void 0!=p&&(null===(e=b.current)||void 0===e||e.setSelected(p))},[p]),(0,r.useEffect)(function(){var e;void 0!=k&&(null===(e=b.current)||void 0===e||e.setGrowUp(k))},[k]),null},c=function(){};c.hasValue=function(e){return void 0!=e&&null!=e};var l=function(e){var n=e.center,t=e.radius,i=e.fillColor,o=e.fillOpacity,l=e.visible,a=e.strokeColor,f=e.strokeWidth,v=e.draggable,d=e.zIndex,s=e.elevation,E=e.userInteractionEnabled,p=e.map,k=e.onCreated,h=(0,r.useContext)(u),m=p||h.map,g=(0,r.useRef)();return(0,r.useEffect)(function(){if(m&&!g.current){var e,r={center:n||{lat:10.793113,lng:106.720739},radius:t,fillColor:i,fillOpacity:o,visible:l,strokeColor:a,strokeWidth:f,draggable:v,zIndex:d,elevation:s,userInteractionEnabled:E};Object.keys(r).forEach(function(e){(void 0==r[e]||null==r[e])&&delete r[e]}),g.current=new map4d.Circle(r),null===(e=g.current)||void 0===e||e.setMap(m),k&&k(g.current)}},[m]),(0,r.useEffect)(function(){if(m){var e;null===(e=g.current)||void 0===e||e.setMap(m)}return function(){var e;null===(e=g.current)||void 0===e||e.setMap(null)}},[m]),(0,r.useEffect)(function(){return function(){var e;null===(e=g.current)||void 0===e||e.setMap(null)}},[]),(0,r.useEffect)(function(){if(c.hasValue(n)){var e;null===(e=g.current)||void 0===e||e.setCenter(n)}},[n]),(0,r.useEffect)(function(){if(c.hasValue(t)){var e;null===(e=g.current)||void 0===e||e.setRadius(t)}},[t]),(0,r.useEffect)(function(){if(c.hasValue(i)){var e;null===(e=g.current)||void 0===e||e.setFillColor(i)}},[i]),(0,r.useEffect)(function(){if(c.hasValue(o)){var e;null===(e=g.current)||void 0===e||e.setFillOpacity(o)}},[o]),(0,r.useEffect)(function(){if(c.hasValue(l)){var e;null===(e=g.current)||void 0===e||e.setVisible(l)}},[l]),(0,r.useEffect)(function(){if(c.hasValue(a)){var e;null===(e=g.current)||void 0===e||e.setStrokeColor(a)}},[a]),(0,r.useEffect)(function(){if(c.hasValue(f)){var e;null===(e=g.current)||void 0===e||e.setStrokeWidth(f)}},[f]),(0,r.useEffect)(function(){if(c.hasValue(v)){var e;null===(e=g.current)||void 0===e||e.setDraggable(v)}},[v]),(0,r.useEffect)(function(){if(c.hasValue(d)){var e;null===(e=g.current)||void 0===e||e.setZIndex(d)}},[d]),(0,r.useEffect)(function(){if(c.hasValue(s)){var e;null===(e=g.current)||void 0===e||e.setElevation(s)}},[s]),(0,r.useEffect)(function(){if(c.hasValue(E)){var e;null===(e=g.current)||void 0===e||e.setUserInteraction(E)}},[E]),null},a=function(e){var n=e.geoJsonString,t=e.map,i=e.onCreated,o=(0,r.useContext)(u),c=t||o.map,l=(0,r.useRef)(),a=function(){var e,t;null===(e=l.current)||void 0===e||e.forEach(function(e){var n;null==c||null===(n=c.data)||void 0===n||n.remove(e)}),l.current=null==c?void 0:null===(t=c.data)||void 0===t?void 0:t.addGeoJson(n),i&&i(l.current)};return(0,r.useEffect)(function(){c&&a()},[c]),(0,r.useEffect)(function(){return function(){var e;null===(e=l.current)||void 0===e||e.forEach(function(e){var n;null==c||null===(n=c.data)||void 0===n||n.remove(e)})}},[]),null},f=function(e){var n=e.routes,t=e.activedIndex,i=e.activeStrokeWidth,o=e.activeStrokeColor,c=e.activeOutlineWidth,l=e.activeOutlineColor,a=e.activeStrokePattern,f=e.inactiveStrokeWidth,v=e.inactiveStrokeColor,d=e.inactiveOutlineWidth,s=e.inactiveOutlineColor,E=e.inactiveStrokePattern,p=e.originMarkerOptions,k=e.destinationMarkerOptions,h=e.waypointMarkerOptions,m=e.onMarkerDragEnd,g=e.map,C=e.onCreated,b=(0,r.useContext)(u),M=g||b.map,x=(0,r.useRef)();return(0,r.useEffect)(function(){if(M&&!x.current){var e,r={routes:n,activedIndex:t,activeStrokeWidth:i,activeStrokeColor:o,activeOutlineWidth:c,activeOutlineColor:l,activeStrokePattern:a,inactiveStrokeWidth:f,inactiveStrokeColor:v,inactiveOutlineWidth:d,inactiveOutlineColor:s,inactiveStrokePattern:E,originMarkerOptions:p,destinationMarkerOptions:k,waypointMarkerOptions:h,onMarkerDragEnd:m};Object.keys(r).forEach(function(e){(void 0==r[e]||null==r[e])&&delete r[e]}),x.current=new map4d.DirectionsRenderer(r),null===(e=x.current)||void 0===e||e.setMap(M),C&&C(x.current)}},[M]),(0,r.useEffect)(function(){if(M){var e;null===(e=x.current)||void 0===e||e.setMap(M)}return function(){var e;null===(e=x.current)||void 0===e||e.setMap(null)}},[M]),(0,r.useEffect)(function(){return function(){var e;null===(e=x.current)||void 0===e||e.setMap(null)}},[]),(0,r.useEffect)(function(){var e;void 0!=n&&(null===(e=x.current)||void 0===e||e.setRoutes(n))},[n]),(0,r.useEffect)(function(){var e;void 0!=t&&(null===(e=x.current)||void 0===e||e.setActivedIndex(t))},[t]),(0,r.useEffect)(function(){var e;void 0!=a&&(null===(e=x.current)||void 0===e||e.setActiveStrokePattern(a))},[a]),(0,r.useEffect)(function(){var e;void 0!=E&&(null===(e=x.current)||void 0===e||e.setInactiveStrokePattern(E))},[E]),(0,r.useEffect)(function(){var e,r={routes:n,activedIndex:t,activeStrokeWidth:i,activeStrokeColor:o,activeOutlineWidth:c,activeOutlineColor:l,activeStrokePattern:a,inactiveStrokeWidth:f,inactiveStrokeColor:v,inactiveOutlineWidth:d,inactiveOutlineColor:s,inactiveStrokePattern:E,originMarkerOptions:p,destinationMarkerOptions:k,waypointMarkerOptions:h,onMarkerDragEnd:m};Object.keys(r).forEach(function(e){(void 0==r[e]||null==r[e])&&delete r[e]}),null===(e=x.current)||void 0===e||e.setOptions(r)},[i,o,c,l,v,d,s,p,k,h,m]),null},v=function(e){var n=e.bounds,t=e.getUrl,i=e.override,o=e.visible,c=e.zIndex,l=e.opacity,a=e.map,f=e.onCreated,v=(0,r.useContext)(u),d=a||v.map,s=(0,r.useRef)(),E=function(){null===(e=s.current)||void 0===e||e.setMap(null);var e,r,u={bounds:n,getUrl:t,override:i,visible:o,zIndex:c,opacity:l};Object.keys(u).forEach(function(e){(void 0==u[e]||null==u[e])&&delete u[e]}),s.current=new map4d.TileOverlay(u),null===(r=s.current)||void 0===r||r.setMap(d),f&&f(s.current)};return(0,r.useEffect)(function(){d&&!s.current&&E()},[d]),(0,r.useEffect)(function(){if(d){var e;null===(e=s.current)||void 0===e||e.setMap(d)}return function(){var e;null===(e=s.current)||void 0===e||e.setMap(null)}},[d]),(0,r.useEffect)(function(){return function(){var e;null===(e=s.current)||void 0===e||e.setMap(null)}},[]),(0,r.useEffect)(function(){d&&E()},[n,t,i]),(0,r.useEffect)(function(){var e;void 0!=o&&(null===(e=s.current)||void 0===e||e.setVisible(o))},[o]),(0,r.useEffect)(function(){var e;void 0!=c&&(null===(e=s.current)||void 0===e||e.setZIndex(c))},[c]),(0,r.useEffect)(function(){var e;void 0!=l&&(null===(e=s.current)||void 0===e||e.setOpacity(l))},[l]),null},d=function(e){var n=e.url,t=e.bounds,i=e.visible,o=e.zIndex,c=e.opacity,l=e.map,a=e.onCreated,f=(0,r.useContext)(u),v=l||f.map,d=(0,r.useRef)(),s=function(){null===(e=d.current)||void 0===e||e.setMap(null);var e,r,u={url:n,bounds:t,visible:i,zIndex:o,opacity:c};Object.keys(u).forEach(function(e){(void 0==u[e]||null==u[e])&&delete u[e]}),d.current=new map4d.ImageOverlay(u),null===(r=d.current)||void 0===r||r.setMap(v),a&&a(d.current)};return(0,r.useEffect)(function(){v&&!d.current&&s()},[v]),(0,r.useEffect)(function(){if(v){var e;null===(e=d.current)||void 0===e||e.setMap(v)}return function(){var e;null===(e=d.current)||void 0===e||e.setMap(null)}},[v]),(0,r.useEffect)(function(){return function(){var e;null===(e=d.current)||void 0===e||e.setMap(null)}},[]),(0,r.useEffect)(function(){v&&s()},[n,t,o]),(0,r.useEffect)(function(){var e;void 0!=i&&(null===(e=d.current)||void 0===e||e.setVisible(i))},[i]),(0,r.useEffect)(function(){var e;void 0!=c&&(null===(e=d.current)||void 0===e||e.setOpacity(c))},[c]),null},s=function(){var e=new Date().getTime();return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16)})},E=function(e){var n=(0,r.useRef)("callback"),t=(0,r.useRef)(),i=(0,r.useRef)(),o=(0,r.useRef)(),c=(0,r.useRef)(),l=(0,r.useRef)([]),a=(0,r.useState)(),f=a[0],v=a[1];(0,r.useEffect)(function(){var r=s();n.current="callback_"+r;var u="https://api"+(e.environment?"-"+e.environment:"")+".map4d.vn/sdk/map/js?version="+e.version+"&key="+e.accessKey+"&callback="+n.current;e.mapid&&(u+="&mapId="+e.mapid),window[n.current]=function(){if(t.current){var n=e.options;i.current=new window.map4d.Map(t.current,n),e.onMapReady&&e.onMapReady(i.current,r),d(),v(i.current)}else console.error("MFMap: map element is NOT found")};var a=function(e,n){var t="script_"+n;if(document.getElementById(t))return null;var r=document.createElement("script");return r.src=e,r.defer=!0,r.id=t,document.body.appendChild(r),r}(u,r);return a&&(o.current=a),c.current=u,function(){var e,t;delete window[n.current],null!=o.current&&o.current.remove(),null===(e=l.current)||void 0===e||e.forEach(function(e){null==e||e.remove()}),null===(t=i.current)||void 0===t||t.destroy(),c.current=void 0}},[e.environment,e.version,e.accessKey]);var d=function(){var n=null===(u=i.current)||void 0===u?void 0:u.addListener("click",function(e){var n,t;(null===(n=e.marker)||void 0===n?void 0:n.onClick)&&(null===(t=e.marker)||void 0===t||t.onClick())},{marker:!0}),t=null===(o=i.current)||void 0===o?void 0:o.addListener("rightClick",function(e){var n,t;(null===(n=e.marker)||void 0===n?void 0:n.onRightClick)&&(null===(t=e.marker)||void 0===t||t.onRightClick())},{marker:!0}),r=null===(c=i.current)||void 0===c?void 0:c.addListener("dragEnd",function(e){var n,t;(null===(n=e.marker)||void 0===n?void 0:n.onDragEnd)&&(null===(t=e.marker)||void 0===t||t.onDragEnd())},{marker:!0});if(l.current=l.current.concat([n,t,r]),e.onClickLocation){var u,o,c,a,f=null===(a=i.current)||void 0===a?void 0:a.addListener("click",function(n){e.onClickLocation&&e.onClickLocation(n)},{location:!0});l.current.push(f)}if(e.onRightClickLocation){var v,d=null===(v=i.current)||void 0===v?void 0:v.addListener("rightClick",function(n){e.onRightClickLocation&&e.onRightClickLocation(n)},{location:!0});l.current.push(d)}if(e.onTilesLoaded){var s,E=null===(s=i.current)||void 0===s?void 0:s.addListener("tilesLoaded",function(n){e.onTilesLoaded&&e.onTilesLoaded(n)},{location:!0});l.current.push(E)}if(e.onCameraChanging){var p,k=null===(p=i.current)||void 0===p?void 0:p.addListener("cameraChanging",function(n){e.onCameraChanging&&e.onCameraChanging(n)},{location:!0});l.current.push(k)}};return r.createElement(u.Provider,{value:{map:f}},r.createElement("div",{style:{width:"100%",height:"100%",display:"block"},ref:function(e){t.current=e}}),e.children)},p=function(e){var n=e.position,t=e.visible,o=void 0===t||t,c=e.anchor,l=e.labelAnchor,a=e.icon,f=e.elevation,v=e.rotation,d=e.title,s=e.snippet,E=e.windowAnchor,p=e.zIndex,k=e.label,h=e.draggable,m=e.iconView,g=e.userInteractionEnabled,C=e.map,b=e.onCreated,M=e.onClick,x=(0,r.useContext)(u),I=(0,r.useContext)(i),w=C||x.map,O=(0,r.useRef)();return(0,r.useEffect)(function(){if(w&&!O.current){var t={position:n||{lat:10.793113,lng:106.720739},visible:o,anchor:c,labelAnchor:l,elevation:f,rotation:v,title:d,snippet:s,windowAnchor:E,zIndex:p,label:k,draggable:h,iconView:m,userInteractionEnabled:g};if(Object.keys(t).forEach(function(e){(void 0==t[e]||null==t[e])&&delete t[e]}),a){var r=new map4d.Icon(a.width,a.height,a.url);t.icon=r}O.current=new map4d.Marker(t),void 0!=e.infoWindow&&O.current.setInfoWindow(e.infoWindow),void 0!=e.infoContents&&O.current.setInfoContents(e.infoContents),null!=I&&I.addMarker||O.current.setMap(w),void 0!=e.showInfoWindow&&(e.showInfoWindow?O.current.showInfoWindow():O.current.hideInfoWindow()),O.current.onClick=M,O.current.onRightClick=e.onRightClick,O.current.onDragEnd=e.onDragEnd,b&&b(O.current),(null==I?void 0:I.addMarker)&&(null==I||I.addMarker(O.current))}},[w]),(0,r.useEffect)(function(){if(w&&!(null!=I&&I.addMarker)){var e;null===(e=O.current)||void 0===e||e.setMap(w)}return function(){if(!(null!=I&&I.addMarker)){var e;null===(e=O.current)||void 0===e||e.setMap(null)}}},[w]),(0,r.useEffect)(function(){return function(){if(!(null!=I&&I.addMarker)){var e;null===(e=O.current)||void 0===e||e.setMap(null)}O.current&&(null==I?void 0:I.removeMarker)&&(null==I||I.removeMarker(O.current))}},[]),(0,r.useEffect)(function(){var e;null===(e=O.current)||void 0===e||e.setPosition(n)},[n]),(0,r.useEffect)(function(){var e;null===(e=O.current)||void 0===e||e.setVisible(o)},[o]),(0,r.useEffect)(function(){var e;void 0!=c&&(null===(e=O.current)||void 0===e||e.setAnchor(c))},[c]),(0,r.useEffect)(function(){var e;void 0!=l&&(null===(e=O.current)||void 0===e||e.setLabelAnchor(l))},[l]),(0,r.useEffect)(function(){var e;void 0!=a&&(null===(e=O.current)||void 0===e||e.setIcon(a))},[a]),(0,r.useEffect)(function(){var e;void 0!=f&&(null===(e=O.current)||void 0===e||e.setElevation(f))},[f]),(0,r.useEffect)(function(){var e;void 0!=v&&(null===(e=O.current)||void 0===e||e.setRotation(v))},[v]),(0,r.useEffect)(function(){var e;void 0!=d&&(null===(e=O.current)||void 0===e||e.setTitle(d))},[d]),(0,r.useEffect)(function(){var e;void 0!=s&&(null===(e=O.current)||void 0===e||e.setSnippet(s))},[s]),(0,r.useEffect)(function(){var e;void 0!=E&&(null===(e=O.current)||void 0===e||e.setWindowAnchor(E))},[E]),(0,r.useEffect)(function(){var e;void 0!=p&&(null===(e=O.current)||void 0===e||e.setZIndex(p))},[p]),(0,r.useEffect)(function(){var e;void 0!=k&&(null===(e=O.current)||void 0===e||e.setLabel(k))},[k]),(0,r.useEffect)(function(){var e;void 0!=h&&(null===(e=O.current)||void 0===e||e.setDraggable(h))},[h]),(0,r.useEffect)(function(){var e;void 0!=m&&(null===(e=O.current)||void 0===e||e.setIconView(m))},[m]),(0,r.useEffect)(function(){var e;void 0!=g&&(null===(e=O.current)||void 0===e||e.setUserInteraction(g))},[g]),(0,r.useEffect)(function(){var e;void 0!=a&&(null===(e=O.current)||void 0===e||e.setIcon(new map4d.Icon(a.width,a.height,a.url)))},[a]),(0,r.useEffect)(function(){var n;void 0!=e.infoWindow&&(null===(n=O.current)||void 0===n||n.setInfoWindow(e.infoWindow))},[e.infoWindow]),(0,r.useEffect)(function(){var n;void 0!=e.infoContents&&(null===(n=O.current)||void 0===n||n.setInfoContents(e.infoContents))},[e.infoContents]),(0,r.useEffect)(function(){void 0!=e.showInfoWindow&&(e.showInfoWindow?O.current.showInfoWindow():O.current.hideInfoWindow())},[e.showInfoWindow]),null},k=function(e){var n=e.minZoom,t=void 0===n?0:n,o=e.maxZoom,c=void 0===o?22:o,l=e.radius,a=void 0===l?100:l,f=e.zoomOnClick,v=e.map,d=e.onCreated,s=(0,r.useContext)(u),E=v||s.map,p=(0,r.useRef)([]),k=(0,r.useRef)(),h=function(){var e;if(null===(e=k.current)||void 0===e||e.setMap(null),E){var n,r={minZoom:t,maxZoom:c,radius:a,zoomOnClick:f};Object.keys(r).forEach(function(e){(void 0==r[e]||null==r[e])&&delete r[e]}),k.current=new map4d.MarkerClusterer(p.current,r),null===(n=k.current)||void 0===n||n.setMap(E),d&&d(k.current)}};return(0,r.useEffect)(function(){E&&!k.current&&h()},[E]),(0,r.useEffect)(function(){if(E){var e;null===(e=k.current)||void 0===e||e.setMap(E)}return function(){var e;null===(e=k.current)||void 0===e||e.setMap(null)}},[E]),(0,r.useEffect)(function(){return function(){var e;null===(e=k.current)||void 0===e||e.setMap(null)}},[]),(0,r.useEffect)(function(){E&&h()},[t,c,a]),(0,r.useEffect)(function(){var e;void 0!=f&&(null===(e=k.current)||void 0===e||e.setZoomOnClick(f))},[f]),r.createElement(i.Provider,{value:{addMarker:function(e){p.current.push(e),h()},removeMarker:function(e){var n=p.current.filter(function(n){return n!=e});p.current=n,h()}}},null==e?void 0:e.children)},h=function(e){var n=e.position,t=e.title,i=e.subtitle,o=e.color,c=e.type,l=e.icon,a=e.elevation,f=e.zIndex,v=e.visible,d=e.draggable,s=e.userInteractionEnabled,E=e.map,p=e.onCreated,k=(0,r.useContext)(u),h=E||k.map,m=(0,r.useRef)();return(0,r.useEffect)(function(){if(h&&!m.current){var e,r={position:n||{lat:10.793113,lng:106.720739},title:t,subtitle:i,color:o,type:c,icon:l,elevation:a,zIndex:f,visible:v,draggable:d,userInteractionEnabled:s};Object.keys(r).forEach(function(e){(void 0==r[e]||null==r[e])&&delete r[e]}),m.current=new map4d.POI(r),null===(e=m.current)||void 0===e||e.setMap(h),p&&p(m.current)}},[h]),(0,r.useEffect)(function(){if(h){var e;null===(e=m.current)||void 0===e||e.setMap(h)}return function(){var e;null===(e=m.current)||void 0===e||e.setMap(null)}},[h]),(0,r.useEffect)(function(){return function(){var e;null===(e=m.current)||void 0===e||e.setMap(null)}},[]),(0,r.useEffect)(function(){var e;null===(e=m.current)||void 0===e||e.setPosition(n)},[n]),(0,r.useEffect)(function(){var e;void 0!=t&&(null===(e=m.current)||void 0===e||e.setTitle(t))},[t]),(0,r.useEffect)(function(){var e;void 0!=i&&(null===(e=m.current)||void 0===e||e.setSubtitle(i))},[i]),(0,r.useEffect)(function(){var e;void 0!=o&&(null===(e=m.current)||void 0===e||e.setColor(o))},[o]),(0,r.useEffect)(function(){var e;void 0!=c&&(null===(e=m.current)||void 0===e||e.setType(c))},[c]),(0,r.useEffect)(function(){var e;void 0!=l&&(null===(e=m.current)||void 0===e||e.setIcon(l))},[l]),(0,r.useEffect)(function(){var e;void 0!=a&&(null===(e=m.current)||void 0===e||e.setElevation(a))},[a]),(0,r.useEffect)(function(){var e;void 0!=f&&(null===(e=m.current)||void 0===e||e.setZIndex(f))},[f]),(0,r.useEffect)(function(){var e;void 0!=v&&(null===(e=m.current)||void 0===e||e.setVisible(v))},[v]),(0,r.useEffect)(function(){var e;void 0!=d&&(null===(e=m.current)||void 0===e||e.setDraggable(d))},[d]),(0,r.useEffect)(function(){var e;void 0!=s&&(null===(e=m.current)||void 0===e||e.setUserInteraction(s))},[s]),null},m=function(e){var n=e.getUrl,t=e.visible,i=void 0===t||t,o=e.parserData,c=e.prefixId,l=e.map,a=e.onCreated,f=(0,r.useContext)(u),v=l||f.map,d=(0,r.useRef)(),s=function(){null===(e=d.current)||void 0===e||e.setMap(null);var e,t,r={getUrl:n||{lat:10.793113,lng:106.720739},visible:i,parserData:o,prefixId:c};Object.keys(r).forEach(function(e){(void 0==r[e]||null==r[e])&&delete r[e]}),d.current=new map4d.POIOverlay(r),null===(t=d.current)||void 0===t||t.setMap(v),a&&a(d.current)};return(0,r.useEffect)(function(){v&&!d.current&&s()},[v]),(0,r.useEffect)(function(){if(v){var e;null===(e=d.current)||void 0===e||e.setMap(v)}return function(){var e;null===(e=d.current)||void 0===e||e.setMap(null)}},[v]),(0,r.useEffect)(function(){return function(){var e;null===(e=d.current)||void 0===e||e.setMap(null)}},[]),(0,r.useEffect)(function(){v&&s()},[n,o,c]),null},g=function(e){var n=e.paths,t=e.fillColor,i=e.fillOpacity,o=e.visible,c=void 0===o||o,l=e.strokeColor,a=e.strokeWidth,f=e.draggable,v=e.elevation,d=e.zIndex,s=e.userInteractionEnabled,E=e.map,p=e.onCreated,k=(0,r.useContext)(u),h=E||k.map,m=(0,r.useRef)();return(0,r.useEffect)(function(){if(h&&!m.current){var e,r={paths:n,fillColor:t,fillOpacity:i,visible:c,strokeColor:l,strokeWidth:a,draggable:f,elevation:v,zIndex:d,userInteractionEnabled:s};Object.keys(r).forEach(function(e){(void 0==r[e]||null==r[e])&&delete r[e]}),m.current=new map4d.Polygon(r),null===(e=m.current)||void 0===e||e.setMap(h),p&&p(m.current)}},[h]),(0,r.useEffect)(function(){if(h){var e;null===(e=m.current)||void 0===e||e.setMap(h)}return function(){var e;null===(e=m.current)||void 0===e||e.setMap(null)}},[h]),(0,r.useEffect)(function(){return function(){var e;null===(e=m.current)||void 0===e||e.setMap(null)}},[]),(0,r.useEffect)(function(){var e;null===(e=m.current)||void 0===e||e.setPaths(n)},[n]),(0,r.useEffect)(function(){var e;void 0!=t&&(null===(e=m.current)||void 0===e||e.setFillColor(t))},[t]),(0,r.useEffect)(function(){var e;void 0!=i&&(null===(e=m.current)||void 0===e||e.setFillOpacity(i))},[i]),(0,r.useEffect)(function(){var e;null===(e=m.current)||void 0===e||e.setVisible(c)},[c]),(0,r.useEffect)(function(){var e;void 0!=l&&(null===(e=m.current)||void 0===e||e.setStrokeColor(l))},[l]),(0,r.useEffect)(function(){var e;void 0!=a&&(null===(e=m.current)||void 0===e||e.setStrokeWidth(a))},[a]),(0,r.useEffect)(function(){var e;void 0!=f&&(null===(e=m.current)||void 0===e||e.setDraggable(f))},[f]),(0,r.useEffect)(function(){var e;void 0!=v&&(null===(e=m.current)||void 0===e||e.setElevation(v))},[v]),(0,r.useEffect)(function(){var e;void 0!=d&&(null===(e=m.current)||void 0===e||e.setZIndex(d))},[d]),(0,r.useEffect)(function(){var e;void 0!=s&&(null===(e=m.current)||void 0===e||e.setUserInteraction(s))},[s]),null},C=function(e){var n=e.path,t=e.strokeWidth,i=e.strokeColor,o=e.strokeOpacity,c=e.visible,l=void 0===c||c,a=e.closed,f=e.draggable,v=e.zIndex,d=e.elevation,s=e.strokePattern,E=e.userInteractionEnabled,p=e.map,k=e.onCreated,h=(0,r.useContext)(u),m=p||h.map,g=(0,r.useRef)();return(0,r.useEffect)(function(){if(m&&!g.current){var e,r={path:n||{lat:10.793113,lng:106.720739},strokeWidth:t,strokeColor:i,strokeOpacity:o,visible:l,closed:a,draggable:f,zIndex:v,elevation:d,strokePattern:s,userInteractionEnabled:E};Object.keys(r).forEach(function(e){(void 0==r[e]||null==r[e])&&delete r[e]}),g.current=new map4d.Polyline(r),null===(e=g.current)||void 0===e||e.setMap(m),k&&k(g.current)}},[m]),(0,r.useEffect)(function(){if(m){var e;null===(e=g.current)||void 0===e||e.setMap(m)}return function(){var e;null===(e=g.current)||void 0===e||e.setMap(null)}},[m]),(0,r.useEffect)(function(){return function(){var e;null===(e=g.current)||void 0===e||e.setMap(null)}},[]),(0,r.useEffect)(function(){var e;null===(e=g.current)||void 0===e||e.setPath(n)},[n]),(0,r.useEffect)(function(){var e;void 0!=t&&(null===(e=g.current)||void 0===e||e.setStrokeWidth(t))},[t]),(0,r.useEffect)(function(){var e;void 0!=i&&(null===(e=g.current)||void 0===e||e.setStrokeColor(i))},[i]),(0,r.useEffect)(function(){var e;void 0!=o&&(null===(e=g.current)||void 0===e||e.setStrokeOpacity(o))},[o]),(0,r.useEffect)(function(){var e;void 0!=l&&(null===(e=g.current)||void 0===e||e.setVisible(l))},[l]),(0,r.useEffect)(function(){var e;void 0!=a&&(null===(e=g.current)||void 0===e||e.setClosed(a))},[a]),(0,r.useEffect)(function(){var e;void 0!=f&&(null===(e=g.current)||void 0===e||e.setDraggable(f))},[f]),(0,r.useEffect)(function(){var e;void 0!=v&&(null===(e=g.current)||void 0===e||e.setZIndex(v))},[v]),(0,r.useEffect)(function(){var e;void 0!=d&&(null===(e=g.current)||void 0===e||e.setElevation(d))},[d]),(0,r.useEffect)(function(){var e;void 0!=s&&(null===(e=g.current)||void 0===e||e.setStrokePattern(s))},[s]),(0,r.useEffect)(function(){var e;void 0!=E&&(null===(e=g.current)||void 0===e||e.setUserInteraction(E))},[E]),null},b=function(e){var n=e.getUrl,t=e.visible,i=void 0===t||t,o=e.zIndex,c=e.opacity,l=e.map,a=e.onCreated,f=(0,r.useContext)(u),v=l||f.map,d=(0,r.useRef)(),s=function(){null===(e=d.current)||void 0===e||e.setMap(null);var e,t,r={getUrl:n||{lat:10.793113,lng:106.720739},visible:i,zIndex:o,opacity:c};Object.keys(r).forEach(function(e){(void 0==r[e]||null==r[e])&&delete r[e]}),d.current=new map4d.TileOverlay(r),null===(t=d.current)||void 0===t||t.setMap(v),a&&a(d.current)};return(0,r.useEffect)(function(){v&&!d.current&&s()},[v]),(0,r.useEffect)(function(){if(v){var e;null===(e=d.current)||void 0===e||e.setMap(v)}return function(){var e;null===(e=d.current)||void 0===e||e.setMap(null)}},[v]),(0,r.useEffect)(function(){return function(){var e;null===(e=d.current)||void 0===e||e.setMap(null)}},[]),(0,r.useEffect)(function(){v&&s()},[n]),(0,r.useEffect)(function(){var e;null===(e=d.current)||void 0===e||e.setVisible(i)},[i]),(0,r.useEffect)(function(){var e;void 0!=o&&(null===(e=d.current)||void 0===e||e.setZIndex(o))},[o]),(0,r.useEffect)(function(){var e;void 0!=c&&(null===(e=d.current)||void 0===e||e.setOpacity(c))},[c]),null}}}]);